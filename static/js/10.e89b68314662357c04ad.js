webpackJsonp([10],{"1H4S":function(t,i,e){t.exports=e.p+"static/img/img-small.cc465df.jpg"},"2Bxi":function(t,i,e){t.exports=e.p+"static/img/2.4dca930.jpg"},"5e9m":function(t,i,e){t.exports=e.p+"static/img/0.4dca930.jpg"},Km3N:function(t,i){},"Mx+f":function(t,i){},auuL:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=Math.PI;function n(t,i){return t+i}function r(t){return t*t}var o={name:"SlideVerify",props:{l:{type:Number,default:42},r:{type:Number,default:10},w:{type:Number,default:310},h:{type:Number,default:155},sliderText:{type:String,default:"Slide filled right"}},data:function(){return{containerActive:!1,containerSuccess:!1,containerFail:!1,canvasCtx:null,blockCtx:null,block:null,block_x:void 0,block_y:void 0,L:this.l+2*this.r+3,img:void 0,originX:void 0,originY:void 0,isMouseDown:!1,trail:[],sliderLeft:0,sliderMaskWidth:0}},mounted:function(){this.init()},methods:{init:function(){this.initDom(),this.initImg(),this.bindEvents()},initDom:function(){this.block=this.$refs.block,this.canvasCtx=this.$refs.canvas.getContext("2d"),this.blockCtx=this.block.getContext("2d")},initImg:function(){var t=this,i=this.createImg(function(){t.drawBlock(),t.canvasCtx.drawImage(i,0,0,t.w,t.h),t.blockCtx.drawImage(i,0,0,t.w,t.h);var e=t.block_x,s=t.block_y,n=t.r,r=t.L,o=s-2*n-1,a=t.blockCtx.getImageData(e,o,r,r);t.block.width=r,t.blockCtx.putImageData(a,0,o)});this.img=i},drawBlock:function(){this.block_x=this.getRandomNumberByRange(this.L+10,this.w-(this.L+10)),this.block_y=this.getRandomNumberByRange(10+2*this.r,this.h-(this.L+10)),this.draw(this.canvasCtx,this.block_x,this.block_y,"fill"),this.draw(this.blockCtx,this.block_x,this.block_y,"clip")},draw:function(t,i,e,n){var r=this.l,o=this.r;t.beginPath(),t.moveTo(i,e),t.arc(i+r/2,e-o+2,o,.72*s,2.26*s),t.lineTo(i+r,e),t.arc(i+r+o-2,e+r/2,o,1.21*s,2.78*s),t.lineTo(i+r,e+r),t.lineTo(i,e+r),t.arc(i+o-2,e+r/2,o+.4,2.76*s,1.24*s,!0),t.lineTo(i,e),t.lineWidth=2,t.fillStyle="rgba(255, 255, 255, 0.7)",t.strokeStyle="rgba(255, 255, 255, 0.7)",t.stroke(),t[n](),t.globalCompositeOperation="overlay"},createImg:function(t){var i=this,e=document.createElement("img");return e.crossOrigin="Anonymous",e.onload=t,e.onerror=function(){e.src=i.getRandomImg()},e.src=this.getRandomImg(),e},getRandomImg:function(){return e("vvha")("./"+this.getRandomNumberByRange(0,3)+".jpg")},getRandomNumberByRange:function(t,i){return Math.round(Math.random()*(i-t)+t)},refresh:function(){this.reset(),this.$emit("refresh")},sliderDown:function(t){this.originX=t.clientX,this.originY=t.clientY,this.isMouseDown=!0},touchStartEvent:function(t){this.originX=t.changedTouches[0].pageX,this.originY=t.changedTouches[0].pageY,this.isMouseDown=!0},bindEvents:function(){var t=this;document.addEventListener("mousemove",function(i){if(!t.isMouseDown)return!1;var e=i.clientX-t.originX,s=i.clientY-t.originY;if(e<0||e+38>=t.w)return!1;t.sliderLeft=e+"px";var n=(t.w-40-20)/(t.w-40)*e;t.block.style.left=n+"px",t.containerActive=!0,t.sliderMaskWidth=e+"px",t.trail.push(s)}),document.addEventListener("mouseup",function(i){if(!t.isMouseDown)return!1;if(t.isMouseDown=!1,i.clientX===t.originX)return!1;t.containerActive=!1;var e=t.verify(),s=e.spliced,n=e.TuringTest;s?n?(t.containerSuccess=!0,t.$emit("success")):(t.containerFail=!0,t.sliderText="try again",t.reset()):(t.containerFail=!0,t.$emit("fail"),setTimeout(function(){t.reset()},1e3))})},touchMoveEvent:function(t){if(!this.isMouseDown)return!1;var i=t.changedTouches[0].pageX-this.originX,e=t.changedTouches[0].pageY-this.originY;if(i<0||i+38>=this.w)return!1;this.sliderLeft=i+"px";var s=(this.w-40-20)/(this.w-40)*i;this.block.style.left=s+"px",this.containerActive=!0,this.sliderMaskWidth=i+"px",this.trail.push(e)},touchEndEvent:function(t){var i=this;if(!this.isMouseDown)return!1;if(this.isMouseDown=!1,t.changedTouches[0].pageX===this.originX)return!1;this.containerActive=!1;var e=this.verify(),s=e.spliced,n=e.TuringTest;s?n?(this.containerSuccess=!0,this.$emit("success")):(this.containerFail=!0,this.sliderText="try again",this.reset()):(this.containerFail=!0,this.$emit("fail"),setTimeout(function(){i.reset()},1e3))},verify:function(){var t=this.trail,i=t.reduce(n)/t.length,e=t.map(function(t){return t-i}),s=Math.sqrt(e.map(r).reduce(n)/t.length),o=parseInt(this.block.style.left);return{spliced:Math.abs(o-this.block_x)<10,TuringTest:i!==s}},reset:function(){this.containerActive=!1,this.containerSuccess=!1,this.containerFail=!1,this.sliderLeft=0,this.block.style.left=0,this.sliderMaskWidth=0;var t=this.w,i=this.h;this.canvasCtx.clearRect(0,0,t,i),this.blockCtx.clearRect(0,0,t,i),this.block.width=t,this.img.src=this.getRandomImg()}}},a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"slide-verify",attrs:{id:"slideVerify",onselectstart:"return false;"}},[e("canvas",{ref:"canvas",attrs:{width:t.w,height:t.h}}),t._v(" "),e("div",{staticClass:"slide-verify-refresh-icon",on:{click:t.refresh}}),t._v(" "),e("canvas",{ref:"block",staticClass:"slide-verify-block",attrs:{width:t.w,height:t.h}}),t._v(" "),e("div",{staticClass:"slide-verify-slider",class:{"container-active":t.containerActive,"container-success":t.containerSuccess,"container-fail":t.containerFail}},[e("div",{staticClass:"slide-verify-slider-mask",style:{width:t.sliderMaskWidth}},[e("div",{staticClass:"slide-verify-slider-mask-item",style:{left:t.sliderLeft},on:{mousedown:t.sliderDown,touchstart:t.touchStartEvent,touchmove:t.touchMoveEvent,touchend:t.touchEndEvent}},[e("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),e("span",{staticClass:"slide-verify-slider-text"},[t._v(t._s(t.sliderText))])])])},staticRenderFns:[]};var c={name:"",components:{yz:e("VU/8")(o,a,!1,function(t){e("Km3N")},"data-v-50141017",null).exports},data:function(){return{bgOpt:{px:0,py:0,w:0,h:0}}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{Over:function(t){this.bgOpt.px=t.offsetLeft,this.bgOpt.py=t.offsetTop,this.bgOpt.w=t.offsetWidth,this.bgOpt.h=t.offsetHeight},Move:function(t,i){var e=this.bgOpt,s=void 0,n=void 0,r=i.pageX-e.px,o=i.pageY-e.py;s=(e.w,r-e.w/2),n=(e.h,e.h/2-o),t.style.transform="rotateY("+s/50+"deg) rotateX("+n/50+"deg)",t.style.transform="rotateY("+s/50+"deg) rotateX("+n/50+"deg)"},Out:function(t){t.style.transform="rotateY(0deg) rotateX(0deg)",t.style.transform="rotateY(0deg) rotateX(0deg)"}}},l={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"banner"},[i("yz")],1)},staticRenderFns:[]};var h=e("VU/8")(c,l,!1,function(t){e("Mx+f")},"data-v-462fff9c",null);i.default=h.exports},cABq:function(t,i,e){t.exports=e.p+"static/img/11.4dca930.jpg"},lQgp:function(t,i,e){t.exports=e.p+"static/img/3.4dca930.jpg"},tGse:function(t,i,e){t.exports=e.p+"static/img/1.4dca930.jpg"},vvha:function(t,i,e){var s={"./0.jpg":"5e9m","./1.jpg":"tGse","./11.jpg":"cABq","./2.jpg":"2Bxi","./3.jpg":"lQgp","./img-big.jpg":"Tjy1","./img-small.jpg":"1H4S","./timg.jpg":"Vmam"};function n(t){return e(r(t))}function r(t){var i=s[t];if(!(i+1))throw new Error("Cannot find module '"+t+"'.");return i}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id="vvha"}});