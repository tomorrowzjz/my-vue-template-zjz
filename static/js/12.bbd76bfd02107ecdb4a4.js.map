{"version":3,"sources":["webpack:///src/pagers/form/formItem.vue","webpack:///./src/pagers/form/formItem.vue?875f","webpack:///./src/pagers/form/formItem.vue","webpack:///src/pagers/form/xmFormItem.vue","webpack:///./src/pagers/form/xmFormItem.vue?9458","webpack:///./src/pagers/form/xmFormItem.vue","webpack:///src/pagers/form/xmForm.vue","webpack:///./src/pagers/form/xmForm.vue?0857","webpack:///./src/pagers/form/xmForm.vue"],"names":["formItem","name","props","label","String","prop","data","errorMsg","methods","showError","msg","this","form_formItem","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_t","_e","staticRenderFns","pagers_form_formItem","__webpack_require__","normalizeComponent","ssrContext","xmFormItem","model","type","Object","rule","default","formItems","mounted","calcFormItems","updated","_this","$slots","children","filter","vnode","tag","componentOptions","Ctor","options","map","_ref","componentInstance","length","every","pane","index","validate","_this2","isSuccess","es_default","a","errors","fields","forEach","error","find","field","findErrorByProp","message","promise_default","resolve","form_xmFormItem","xmForm","components","xmFormItem_normalizeComponent","form","email","required","trigger","submit","$refs","baseForm","then","res","catch","e","form_xmForm","ref","attrs","directives","rawName","value","expression","domProps","on","input","$event","target","composing","$set","click","xmForm_Component","xmForm_normalizeComponent","__webpack_exports__"],"mappings":"sGAUA,IAAAA,GACAC,KAAA,YACAC,OACAC,MAAAC,OACAC,KAAAD,QAEAE,KANA,WAOA,OACAC,SAAA,KAGAC,SACAC,UADA,SACAC,GACAC,KAAAJ,SAAAG,KCpBeE,GADEC,OAFjB,WAA0B,IAAAC,EAAAH,KAAaI,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAmBE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,oBAA8BL,EAAAM,GAAAN,EAAAO,GAAAP,EAAAX,UAAAW,EAAAM,GAAA,KAAAH,EAAA,OAAoDE,YAAA,iBAA2BL,EAAAQ,GAAA,eAAAR,EAAAM,GAAA,KAAAN,EAAA,SAAAG,EAAA,OAA6DE,YAAA,oBAA8BL,EAAAM,GAAAN,EAAAO,GAAAP,EAAAP,aAAAO,EAAAS,QAEvUC,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACE3B,EACAY,GATF,EAVA,SAAAgB,GACEF,EAAQ,SAaV,kBAEA,MAUgC,kDCjBhCG,GACA5B,KAAA,UACAC,OACA4B,OACAC,KAAAC,QAEAC,MACAF,KAAAC,OACAE,QAAA,WACA,YAIA5B,KAbA,WAcA,OACA6B,eAGAC,QAlBA,WAmBAzB,KAAA0B,iBAEAC,QArBA,WAsBA3B,KAAA0B,iBAEA7B,SACA6B,cADA,WACA,IAAAE,EAAA5B,KAEA,GAAAA,KAAA6B,OAAAN,QAAA,CACA,IAAAO,EAAA9B,KAAA6B,OAAAN,QAAAQ,OAAA,SAAAC,GACA,OAAAA,EAAAC,KACAD,EAAAE,kBAAA,cAAAF,EAAAE,iBAAAC,KAAAC,QAAA9C,OACA+C,IAAA,SAAAC,GAAA,OAAAA,EAAAC,oBAEAT,EAAAU,SAAAxC,KAAAwB,UAAAgB,QAAAV,EAAAW,MAAA,SAAAC,EAAAC,GAAA,OAAAD,IAAAd,EAAAJ,UAAAmB,OACA3C,KAAAwB,UAAAM,KAIAc,SAdA,WAcA,IAAAC,EAAA7C,KAGA8C,GAAA,EAoBA,OAtBA,IAAAC,EAAAC,EAAAhD,KAAAsB,MAUAsB,SAAA5C,KAAAmB,MAAA,SAAA8B,EAAAC,GACAL,EAAArB,UAAA2B,QAAA,SAAA9D,GACA,IAAAK,EAAAL,EAAAK,KACA0D,EATA,SAAAH,EAAAvD,GACA,OAAAuD,EAAAI,KAAA,SAAAD,GACA,OAAAA,EAAAE,QAAA5D,KACA,GAMA6D,CAAAN,MAAAvD,GACA0D,IACAN,GAAA,GAGAzD,EAAAS,UAAAsD,KAAAI,SAAA,QAIAC,EAAAT,EAAAU,QAAAZ,MCnEea,GADEzD,OAFP,WAAgB,IAAaE,EAAbJ,KAAaK,eAAkD,OAA/DL,KAAuCO,MAAAD,IAAAF,GAAwB,OAAiBI,YAAA,SAAhFR,KAAmGW,GAAA,gBAE7FE,oBCChC,ICiBA+C,GACAC,YACAD,OAAA9C,EACAI,WDpByBH,EAAQ,OAcjB+C,CACd5C,EACAyC,GAT6B,EAV/B,SAAoB1C,GAClBF,EAAQ,SAaS,kBAEU,MAUG,SCDhCpB,KALA,WAMA,OACAoE,MACAzE,KAAA,GACA0E,MAAA,IAEA1C,MACAhC,OACA2E,UAAA,EAAAT,QAAA,UAAAU,QAAA,SAEAF,QACAC,UAAA,EAAAT,QAAA,SAAAU,QAAA,SACA9C,KAAA,QAAAoC,QAAA,UAAAU,QAAA,YAKArE,SACAsE,OADA,WAGAnE,KAAAoE,MAAAC,SAAAzB,WAAA0B,KAAA,SAAAC,MAEAC,MAAA,SAAAC,SC5CeC,GADExE,OAFP,WAAgB,IAAAC,EAAAH,KAAaI,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAmBF,EAAA,WAAgBqE,IAAA,WAAAC,OAAsBzD,MAAAhB,EAAA4D,KAAAzC,KAAAnB,EAAAmB,QAAkChB,EAAA,gBAAqBsE,OAAOpF,MAAA,KAAAE,KAAA,UAA4BY,EAAA,SAAcuE,aAAavF,KAAA,QAAAwF,QAAA,UAAAC,MAAA5E,EAAA4D,KAAA,KAAAiB,WAAA,cAA4EC,UAAYF,MAAA5E,EAAA4D,KAAA,MAAwBmB,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,WAAsCnF,EAAAoF,KAAApF,EAAA4D,KAAA,OAAAqB,EAAAC,OAAAN,aAAkD5E,EAAAM,GAAA,KAAAH,EAAA,gBAAmCsE,OAAOpF,MAAA,KAAAE,KAAA,WAA6BY,EAAA,SAAcuE,aAAavF,KAAA,QAAAwF,QAAA,UAAAC,MAAA5E,EAAA4D,KAAA,MAAAiB,WAAA,eAA8EC,UAAYF,MAAA5E,EAAA4D,KAAA,OAAyBmB,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,WAAsCnF,EAAAoF,KAAApF,EAAA4D,KAAA,QAAAqB,EAAAC,OAAAN,aAAmD5E,EAAAM,GAAA,KAAAH,EAAA,gBAAAA,EAAA,UAAgD4E,IAAIM,MAAArF,EAAAgE,UAAoBhE,EAAAM,GAAA,mBAEl3BI,oBCChC,IAcI4E,EAdqB1E,EAAQ,OAcjB2E,CACd9B,EACAc,GAT6B,EAV/B,SAAoBzD,GAClBF,EAAQ,SAaS,kBAEU,MAUd4E,EAAA,QAAAF,EAAiB","file":"static/js/12.bbd76bfd02107ecdb4a4.js","sourcesContent":["<template>\r\n    <label class=\"form-item\">\r\n        <div class=\"form-item_label\">{{label}}</div>\r\n        <div class=\"form-item_mn\">\r\n            <slot></slot>\r\n        </div>\r\n        <div class=\"form-item_error\" v-if=\"errorMsg\">{{errorMsg}}</div>\r\n    </label>\r\n</template>\r\n<script>\r\n  export default {\r\n    name: \"form-item\",\r\n    props: {\r\n      label: String,\r\n      prop: String\r\n    },\r\n    data() {\r\n      return {\r\n        errorMsg: \"\"\r\n      }\r\n    },\r\n    methods: {\r\n      showError(msg) {\r\n        this.errorMsg = msg\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pagers/form/formItem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"form-item\"},[_c('div',{staticClass:\"form-item_label\"},[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_c('div',{staticClass:\"form-item_mn\"},[_vm._t(\"default\")],2),_vm._v(\" \"),(_vm.errorMsg)?_c('div',{staticClass:\"form-item_error\"},[_vm._v(_vm._s(_vm.errorMsg))]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c224bf76\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pagers/form/formItem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c224bf76\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./formItem.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./formItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./formItem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c224bf76\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./formItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c224bf76\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pagers/form/formItem.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"form\">\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import AsyncValidator from 'async-validator';\r\n\r\n  export default {\r\n    name: \"xm-form\",\r\n    props: {\r\n      model: {\r\n        type: Object\r\n      },\r\n      rule: {\r\n        type: Object,\r\n        default: ()=>{\r\n          return {}\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        formItems: []\r\n      }\r\n    },\r\n    mounted() {\r\n      this.calcFormItems()\r\n    },\r\n    updated() {\r\n      this.calcFormItems()\r\n    },\r\n    methods: {\r\n      calcFormItems() {\r\n        // 获取form-item的引用\r\n        if (this.$slots.default) {\r\n          let children = this.$slots.default.filter(vnode => {\r\n            return vnode.tag &&\r\n              vnode.componentOptions && vnode.componentOptions.Ctor.options.name === 'form-item'\r\n          }).map(({componentInstance}) => componentInstance)\r\n\r\n          if (!(children.length === this.formItems.length && children.every((pane, index) => pane === this.formItems[index]))) {\r\n            this.formItems = children\r\n          }\r\n        }\r\n      },\r\n      validate() {\r\n        let validator = new AsyncValidator(this.rule);\r\n\r\n        let isSuccess = true\r\n\r\n        let findErrorByProp = (errors, prop) => {\r\n          return errors.find((error) => {\r\n              return error.field === prop\r\n            }) || \"\"\r\n        }\r\n\r\n        validator.validate(this.model, (errors, fields) => {\r\n          this.formItems.forEach(formItem => {\r\n            let prop = formItem.prop\r\n            let error = findErrorByProp(errors || [], prop)\r\n            if (error) {\r\n              isSuccess = false\r\n            }\r\n\r\n            formItem.showError(error && error.message || \"\")\r\n          })\r\n        });\r\n\r\n        return Promise.resolve(isSuccess)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pagers/form/xmFormItem.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1cc7edab\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pagers/form/xmFormItem.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1cc7edab\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./xmFormItem.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xmFormItem.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xmFormItem.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1cc7edab\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./xmFormItem.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1cc7edab\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pagers/form/xmFormItem.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"page\">\r\n        <xm-form :model=\"form\" :rule=\"rule\" ref=\"baseForm\">\r\n            <xm-form-item label=\"姓名\" prop=\"name\">\r\n                <input v-model=\"form.name\"/>\r\n            </xm-form-item>\r\n            <xm-form-item label=\"邮箱\" prop=\"email\">\r\n                <input v-model=\"form.email\"/>\r\n            </xm-form-item>\r\n            <xm-form-item>\r\n                <button @click=\"submit\">提交</button>\r\n            </xm-form-item>\r\n        </xm-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import xmForm from \"./formItem.vue\"\r\n  import xmFormItem from \"./xmFormItem.vue\"\r\n\r\n  export default {\r\n    components: {\r\n      xmForm,\r\n      xmFormItem,\r\n    },\r\n    data() {\r\n      return {\r\n        form: {\r\n          name: \"\",\r\n          email: \"\"\r\n        },\r\n        rule: {\r\n          name: [\r\n            {required: true, message: '用户名不能为空', trigger: 'blur'}\r\n          ],\r\n          email: [\r\n            {required: true, message: '邮箱不能为空', trigger: 'blur'},\r\n            {type: 'email', message: '邮箱格式不正确', trigger: 'blur'}\r\n          ],\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      submit() {\r\n        // 调用form组件的validate方法\r\n        this.$refs.baseForm.validate().then(res => {\r\n          console.log(res)\r\n        }).catch(e => {\r\n          console.log(e)\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pagers/form/xmForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('xm-form',{ref:\"baseForm\",attrs:{\"model\":_vm.form,\"rule\":_vm.rule}},[_c('xm-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}})]),_vm._v(\" \"),_c('xm-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.email),expression:\"form.email\"}],domProps:{\"value\":(_vm.form.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"email\", $event.target.value)}}})]),_vm._v(\" \"),_c('xm-form-item',[_c('button',{on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-17eff032\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pagers/form/xmForm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-17eff032\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./xmForm.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xmForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xmForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-17eff032\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./xmForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-17eff032\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pagers/form/xmForm.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}